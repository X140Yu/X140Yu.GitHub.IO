<!DOCTYPE html>
<html lang="en">
  <head><meta name="generator" content="Hexo 3.9.0">
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">

<meta name="theme-color" content="#f8f5ec">
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">



  <meta name="description" content="å¦‚ä½•æ­£ç¡®ä¹¦å†™ iOS ä¸­çš„ Initializer">




  <meta name="keywords" content="iOS, Objective-C, Swift, X140Yu's Blog">










  <link rel="alternate" href="/atom.xml" title="X140Yu's Blog">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.10.1">



<link rel="canonical" href="https://x140yu.github.io/2017-07-16-iOS-initializers/">



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css">




  <link rel="stylesheet" type="text/css" href="/lib/nprogress/nprogress.min.css">



<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.10.1">



  
  <script id="baidu_analytics">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?e3a87e709bb71d639f8a7b07fe411881";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-102142985-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-102142985-1');
</script>


  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>





  <script src="//cdn1.lncld.net/static/js/3.1.1/av-min.js"></script>
  <script id="leancloud">
    AV.init({
      appId: "DoDg8Bwgi002rkBzkdWjJhGN-gzGzoHsz",
      appKey: "Uj8vhWY0bvdNySseOuCmtnPB"
    });
  </script>





<script>
  window.config = {"leancloud":{"app_id":"DoDg8Bwgi002rkBzkdWjJhGN-gzGzoHsz","app_key":"Uj8vhWY0bvdNySseOuCmtnPB"},"toc":true,"fancybox":true,"pjax":true};
</script>

    <title> å¦‚ä½•æ­£ç¡®ä¹¦å†™ iOS ä¸­çš„ Initializer - X140Yu's Blog </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">X140Yu's Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            Archives
          
        </li>
      </a>
    
      <a href="/tags">
        <li class="mobile-menu-item">
          
          
            Tags
          
        </li>
      </a>
    
      <a href="/about">
        <li class="mobile-menu-item">
          
          
            About
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">X140Yu's Blog</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              Home
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              Archives
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            
            
              Tags
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/about">
            
            
              About
            
          </a>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          å¦‚ä½•æ­£ç¡®ä¹¦å†™ iOS ä¸­çš„ Initializer
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2017-07-16
        </span>
        
        
        <span class="post-visits" data-url="/2017-07-16-iOS-initializers/" data-title="å¦‚ä½•æ­£ç¡®ä¹¦å†™ iOS ä¸­çš„ Initializer">
          é˜…è¯»æ¬¡æ•° 0
        </span>
        
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Initializer-çš„ç§ç±»"><span class="toc-text">Initializer çš„ç§ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Designated-Initializer-æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•"><span class="toc-text">Designated Initializer (æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Convenience-Initializer-ä¾¿æ·åˆå§‹åŒ–æ–¹æ³•"><span class="toc-text">Convenience Initializer (ä¾¿æ·åˆå§‹åŒ–æ–¹æ³•)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Example"><span class="toc-text">Example</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Swift"><span class="toc-text">Swift</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Q-amp-A"><span class="toc-text">Q&amp;A</span></a></li></ol>
    </div>
  </div>



    <div class="post-content">
      
        <p>å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå†™ Initializer åº”è¯¥æ˜¯æ—¥å¸¸ã€‚ä¼šå†™çš„å¯ä»¥ç›´æ¥ä¸çœ‹ã€‚å¦‚æœæ²¡æœ‰å¥½å¥½äº†è§£è¿‡å¦‚ä½•å†™ Initializerï¼Œæ¯æ¬¡éƒ½å‡­ç€æ„Ÿè§‰å†™è€Œä¸”è¿˜æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯´æ˜å…¶ä¸­çš„ã€Œç„æœºã€ä½ å·²ç»æŒæ¡äº†ï¼Œå¯ä»¥å¤§æ¦‚æ‰«ä¸€æ‰«ã€‚ä½†æ˜¯æ¯æ¬¡å†™ Initializer éƒ½è¦æŸ¥ Googleï¼Œé‚£è¿™ç¯‡æ–‡ç« å°±æ˜¯ç»™ä½ ï¼ˆæˆ‘ğŸŒšï¼‰å‡†å¤‡çš„</p>
<a id="more"></a>
<h2 id="Initializer-çš„ç§ç±»"><a href="#Initializer-çš„ç§ç±»" class="headerlink" title="Initializer çš„ç§ç±»"></a>Initializer çš„ç§ç±»</h2><p>ä¸€ä¸ªç±»ä¸­å¯èƒ½ä¼šæœ‰å¤šä¸ª Initializerï¼Œä½†ä¸ç®¡æœ‰å¤šå°‘ï¼Œéƒ½åªä¼šæ˜¯ä¸‹é¢ä¸¤ç§ç±»å‹ä¸­çš„ä¸€ç§ã€‚</p>
<h3 id="Designated-Initializer-æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•"><a href="#Designated-Initializer-æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•" class="headerlink" title="Designated Initializer (æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•)"></a>Designated Initializer (æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•)</h3><p>æ˜¯ç±»ä¸­çš„ä¸€ç­‰ Initializerï¼Œä¼šæŠŠç±»ä¸­æ‰€æœ‰ç›¸å…³çš„å±æ€§éƒ½åˆå§‹åŒ–ã€‚éœ€è¦è°ƒç”¨çˆ¶ç±»çš„ Designated Initializerã€‚</p>
<p><img src="http://blog-1258178021.cosbj.myqcloud.com/blog/20181216225707.png" alt></p>
<h3 id="Convenience-Initializer-ä¾¿æ·åˆå§‹åŒ–æ–¹æ³•"><a href="#Convenience-Initializer-ä¾¿æ·åˆå§‹åŒ–æ–¹æ³•" class="headerlink" title="Convenience Initializer (ä¾¿æ·åˆå§‹åŒ–æ–¹æ³•)"></a>Convenience Initializer (ä¾¿æ·åˆå§‹åŒ–æ–¹æ³•)</h3><p>æ˜¯ç±»ä¸­çš„äºŒç­‰ Initializerï¼Œä¼šè°ƒç”¨ç±»ä¸­çš„ Designated Initializer æˆ– Convenience Initializerï¼ŒæŠŠå…¶å®ƒæ²¡æœ‰ä¼ è¿›æ¥çš„å±æ€§åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼ã€‚ä¸»è¦æ˜¯ç»™è°ƒç”¨è€…ä»¥æ–¹ä¾¿ã€‚è¢«å…¶å®ƒ Convenience Initializer è°ƒç”¨çš„ Convenience Initializerï¼Œå¿…é¡»è°ƒç”¨åŒç±»ä¸­çš„ Designated Initializerã€‚</p>
<p><img src="http://blog-1258178021.cosbj.myqcloud.com/blog/20181216225718.png" alt></p>
<p>é‚£ä¹ˆå¦‚ä½•åŒºåˆ†ç±»ä¸­çš„åˆå§‹åŒ–æ–¹æ³•æ˜¯ designated çš„è¿˜æ˜¯ convenience çš„å‘¢ï¼Ÿæœ‰å‡ ä¸ªæ–¹æ³•ï¼Œ</p>
<ul>
<li>é€šå¸¸æ¥è¯´ï¼ŒDesignated Initializer çš„å‚æ•°è¦æ¯” Convenience Initializer å¤šï¼Œå› ä¸ºæŒ‡å®šåˆå§‹åŒ–æ–¹æ³•å¸Œæœ›æŠŠè¿™ä¸ªç±»ä¸­çš„ç›¸å…³å±æ€§éƒ½åˆå§‹åŒ–æ‰ï¼Œè€Œä¾¿æ·åˆå§‹åŒ–æ–¹æ³•åªä¼šåˆå§‹åŒ–æ‰ä¸€éƒ¨åˆ†ï¼Œå…¶ä½™ä¸å¤ªè¦ç´§çš„å±æ€§åˆ™ä¼šæä¾›é»˜è®¤å€¼ã€‚</li>
<li>çœ‹è¿™ä¸ªæ–¹æ³•çš„å£°æ˜é‡Œæœ‰æ²¡æœ‰ä½¿ç”¨ <code>NS_DESIGNATED_INITIALIZER</code> æ ‡è®°ã€‚</li>
</ul>
<p>ç»“åˆä¸€ä¸ª <code>UIViewController</code> å­ç±»ï¼Œçœ‹çœ‹ Initializer åˆ°åº•è¯¥æ€ä¹ˆå†™ã€‚</p>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>ä¸è€ƒè™‘ä½¿ç”¨ StoryBoard çš„æƒ…å†µ</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ProfileViewController</span> : <span class="title">UIViewController</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *userID;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *gender; <span class="comment">// "0" or "1"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>åœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œ<code>userID</code> æ˜¯å¿…é¡»è¦è¢«åˆå§‹åŒ–çš„ï¼Œè€Œ <code>gender</code> åœ¨ä¸çŸ¥é“çš„æƒ…å†µä¸‹å¯ä»¥è¢«åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼ï¼Œåç»­å¯ä»¥é€šè¿‡ç½‘ç»œè¯·æ±‚æ›´æ–°è¿™ä¸ªå€¼ã€‚é‚£ä¹ˆè¿™ä¸ªç±»çš„åˆå§‹åŒ–æ–¹æ³•å¤§æ¦‚åº”è¯¥é•¿æˆè¿™ä¸ªæ ·å­ï¼Œ</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line">+ (<span class="keyword">instancetype</span>)new <span class="built_in">NS_UNAVAILABLE</span>; <span class="comment">// (1)</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)init <span class="built_in">NS_UNAVAILABLE</span>; <span class="comment">// (2)</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithCoder:(<span class="built_in">NSCoder</span> *)aDecoder <span class="built_in">NS_UNAVAILABLE</span>; <span class="comment">// (3)</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithNibName:(<span class="built_in">NSString</span> *)nibNameOrNil bundle:(<span class="built_in">NSBundle</span> *)nibBundleOrNil <span class="built_in">NS_UNAVAILABLE</span>; <span class="comment">// (4)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithUserID:(<span class="built_in">NSString</span> *)userID gender:(<span class="built_in">NSUInteger</span>)gender <span class="built_in">NS_DESIGNATED_INITIALIZER</span>; <span class="comment">// (5)</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithUserID:(<span class="built_in">NSString</span> *)userID; <span class="comment">// (6)</span></span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šå¾€ä¸‹çœ‹ï¼Œ(1) ~ (4) éƒ½æ˜¯ä»çˆ¶ç±»ä¸­ç»§æ‰¿æ¥çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œè™½ç„¶æˆ‘ä»¬çš„ç±»èƒ½å¤Ÿä½¿ç”¨è¿™äº›æ–¹æ³•åˆå§‹åŒ–ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›è°ƒç”¨è€…ä½¿ç”¨è¿™äº›æ–¹æ³•ï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´ <code>userID</code> æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œé€»è¾‘å°±ä¼šä¸æ­£ç¡®äº†ï¼Œä½œä¸ºä¸€ä¸ªæœ‰èŠ‚æ“çš„ programmerï¼ŒæŠŠè¿™äº›æ–¹æ³•æ ‡è®°ä¸º <code>NS_UNAVAILABLE</code>ï¼Œå‘Šè¯‰è°ƒç”¨è€…ï¼Œä¸è¦ä½¿ç”¨è¿™äº›æ–¹æ³•åˆå§‹åŒ–ï¼ŒXcode ä¹Ÿä¼šæœ‰è°ƒç”¨è¿™äº›æ–¹æ³•çš„åœ°æ–¹æŠ›å‡ºé”™è¯¯ã€‚</p>
<p>(5) ä¼šåˆå§‹åŒ–æ‰æ‰€æœ‰ç›¸å…³çš„å±æ€§ï¼Œæ‰€ä»¥å®ƒæ˜¯ä½œä¸º Designated Initializer çš„å­˜åœ¨ï¼ŒåŒæ ·ä½œä¸ºä¸€ä¸ªæœ‰èŠ‚æ“çš„ programmerï¼Œæˆ‘ä»¬æŠŠå®ƒæ ‡è®°ä¸º <code>NS_DESIGNATED_INITIALIZER</code>ï¼Œè¿™ä¸ªæ ‡è®°ä¼šåšä»¥ä¸‹å‡ ä»¶äº‹æƒ…ï¼Œ</p>
<ul>
<li>åœ¨å®ç°è¿™ä¸ªæŒ‡å®šåˆå§‹åŒ–æ–¹æ³•æ—¶ï¼Œå¦‚æœæ²¡æœ‰è°ƒç”¨çˆ¶ç±»çš„ Designated Initializerï¼ŒXcode ä¼šæŠ›å‡ºè­¦å‘Šã€‚</li>
<li>Xcode ä¼šæŠŠå…¶å®ƒæ²¡æœ‰è¿™ä¸ªæ ‡è®°çš„åˆå§‹åŒ–æ–¹æ³•è‡ªåŠ¨è®¤ä¸ºæ˜¯ Convenience Initializerï¼ŒåŒ…æ‹¬ä»çˆ¶ç±»ç»§æ‰¿æ¥çš„ Designated Initializerï¼Œå¹¶åœ¨å®ç°çš„æ—¶å€™æ£€æŸ¥å‡½æ•°å†…æœ‰æ²¡æœ‰è°ƒç”¨åŒç±»ä¸­çš„å…¶å®ƒåˆå§‹åŒ–æ–¹æ³• (Convenience å’Œ Designated éƒ½å¯ä»¥)ã€‚</li>
</ul>
<p>æ‰€ä»¥è¿™ä¸ªæ ‡è®°æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œå¦‚æœä½ åœ¨é€‚å½“çš„åˆå§‹åŒ–æ–¹æ³•å‰é¢åŠ äº†è¿™ä¸ªæ ‡è®°ï¼Œè€Œä¸”å®ç°ç±»ä¸­çš„æ‰€æœ‰åˆå§‹åŒ–æ–¹æ³•åè¿˜æ²¡æœ‰è­¦å‘Šï¼Œé‚£ä¹ˆå‡ºé”™å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ã€‚æ‰€ä»¥åœ¨å®ç°æ–°ç±»åˆå§‹åŒ–æ–¹æ³•çš„æ—¶å€™éƒ½åº”è¯¥æ·»åŠ è¿™ä¸ªæ ‡è®°ï¼Œè®©ç¼–è¯‘å™¨æé†’ä½ åˆ°åº•åº”è¯¥åšä»€ä¹ˆäº‹æƒ…ï¼Œå‡å°‘çŠ¯é”™è¯¯çš„å¯èƒ½ã€‚</p>
<p>(6) æ˜¯ä¸€ä¸ª Convenience Initializerã€‚</p>
<p>çœ‹åˆ°è¿™é‡Œï¼Œå®ç°ä¸Šé¢ç±»ä¸­çš„ä¸¤ä¸ªåˆå§‹åŒ–æ–¹æ³•åº”è¯¥å¾ˆå®¹æ˜“äº†å§ï¼Œ</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line">- (<span class="keyword">instancetype</span>)initWithUserID:(<span class="built_in">NSString</span> *)userID &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="keyword">self</span> initWithUserID:userID gender:<span class="string">@"1"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithUserID:(<span class="built_in">NSString</span> *)userID gender:(<span class="built_in">NSString</span> *)gender &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> initWithNibName:<span class="string">@""</span> bundle:<span class="literal">nil</span>]) &#123;</span><br><span class="line">        _userID = userID;</span><br><span class="line">        _gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€å¥è¯æ€»ç»“ï¼Œå­ç±»çš„æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•å¿…é¡»è°ƒçˆ¶ç±»çš„æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ï¼›å­ç±»çš„ä¾¿æ·åˆå§‹åŒ–æ–¹æ³•å¿…é¡»è°ƒç”¨åŒç±»çš„å…¶å®ƒåˆå§‹åŒ–æ–¹æ³•ã€‚</p>
<h2 id="Swift"><a href="#Swift" class="headerlink" title="Swift"></a>Swift</h2><p>Swift è·Ÿ Objective-C ä¸å¤ªä¸€æ ·ï¼Œä¸ä¼šé»˜è®¤è¦æ±‚ä½ é‡å†™çˆ¶ç±»çš„æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ã€‚å¦‚æœè¦†å†™äº†çˆ¶ç±»ä¸­çš„æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ï¼Œä¸€å®šè¦åŠ ä¸Š <code>override</code> å…³é”®å­—ã€‚</p>
<p>åŠ äº† <code>convience</code> å…³é”®å­—çš„å°±æ˜¯ Convenience Initializerï¼Œè§„åˆ™ä¸ Objective-C çš„ç›¸åŒã€‚</p>
<p>å¯¹äºåˆå§‹åŒ–æ–¹æ³•å‰é¢æ²¡æœ‰ <code>convience</code> å…³é”®å­—çš„ï¼Œç¼–è¯‘å™¨éƒ½ä¼šæŠŠå®ƒå½“ä½œ Designated Initializerï¼Œè·Ÿ Objective-C åˆå§‹åŒ–æ–¹æ³•å‰é¢åŠ  <code>NS_DESIGNATED_INITIALIZER</code> æ˜¯ä¸€æ ·çš„ã€‚åœ¨å®ç°è¿™äº›æ–¹æ³•æ—¶ï¼Œå¯ä»¥å‚è€ƒä¸Šé¢çš„è§„åˆ™ã€‚</p>
<p>å¯¹äºå¯èƒ½å¤±è´¥çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œéœ€è¦æŠŠ <code>init</code> å…³é”®å­—æ¢æˆ <code>init?</code>ï¼Œè°ƒç”¨æ­¤ç±»åˆå§‹åŒ–æ–¹æ³•æ—¶ï¼Œè¿”å›å€¼ä¹Ÿä¼šä»ç¡®è®¤æœ‰å€¼ï¼Œå˜æˆä¸€ä¸ª optionalã€‚</p>
<p>æ‰€ä»¥ä¸€ä¸ª Swift çš„ UIViewController å­ç±»å¤§æ¦‚éœ€è¦è¿™æ ·å†™ï¼Œ</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProfileViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> userID: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> gender: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(userID: <span class="type">String</span>, gender: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.userID = userID</span><br><span class="line">        <span class="keyword">self</span>.gender = gender</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(nibName: <span class="literal">nil</span>, bundle: <span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">        <span class="built_in">fatalError</span>(<span class="string">"init(coder:) has not been implemented"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> æ„Ÿè°¢ <a href="https://twitter.com/kemchenj" target="_blank" rel="noopener">@å››å¨˜</a> <a href="https://twitter.com/kemchenj/status/941151493557596161" target="_blank" rel="noopener">æé†’</a>ï¼Œæ‰€ä»¥é‡å†™ <code>init(nibName, bundle)</code> å¹¶ä¸å¿…è¦</p>
<h2 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h2><p>Q: ä¸ºå•¥å†™ä¸ªåˆå§‹åŒ–æ–¹æ³•è¿˜æœ‰è¿™ä¹ˆå¤šè®²ç©¶ï¼Ÿ<br>A: ä¿è¯è°ƒç”¨åˆå§‹åŒ–æ–¹æ³•åï¼Œç”±è¿™ä¸ªç±»å¼•å…¥çš„ property éƒ½æ­£ç¡®åœ°è¢«åˆå§‹åŒ–ï¼Œä»è€Œç¡®ä¿é€»è¾‘æ­£ç¡®ã€‚</p>
<p>Q: Convenience Initializer åˆ°åº•æœ‰å•¥ç”¨ï¼Ÿ<br>A: å°±æ˜¯ç»™è°ƒç”¨è€…å›¾ä¸ªæ–¹ä¾¿å˜›ã€‚æ¯”å¦‚ Texture ä¸­çš„ ASDisplayNode å°±æä¾›äº† 4 ä¸ª Convenience Initializerï¼Œä¸éœ€è¦åˆå§‹åŒ–ä¹‹åå† <code>node.xxxBlock = ^() {};</code> ï¼Œè€Œæ˜¯æŠŠå¸¸ç”¨çš„ block property åœ¨åˆå§‹åŒ–çš„æ—¶å€™å°±ç»™ä½ äº†ï¼Œå°±æ˜¯ä¸ºäº†æ–¹ä¾¿ã€‚</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line">- (<span class="keyword">instancetype</span>)init <span class="built_in">NS_DESIGNATED_INITIALIZER</span>;</span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithViewBlock:(ASDisplayNodeViewBlock)viewBlock;</span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithViewBlock:(ASDisplayNodeViewBlock)viewBlock didLoadBlock:(<span class="keyword">nullable</span> ASDisplayNodeDidLoadBlock)didLoadBlock;</span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithLayerBlock:(ASDisplayNodeLayerBlock)layerBlock;</span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithLayerBlock:(ASDisplayNodeLayerBlock)layerBlock didLoadBlock:(<span class="keyword">nullable</span> ASDisplayNodeDidLoadBlock)didLoadBlock;</span><br></pre></td></tr></table></figure>
<p>Q: çˆ¶ç±»ä¸­çš„ Designated Initializer åœ¨å­ç±»ä¸­è¿˜æ˜¯ Designated Initializer å—ï¼Ÿ<br>A: çˆ¶ç±»ä¸­çš„ Designated Initializer åœ¨å­ç±»ä¸­ä¸ä¸€å®šå¿…é¡»æ˜¯ Designated Initializerã€‚å¦‚æœåœ¨å¤´æ–‡ä»¶ä¸­æ²¡å¯¹æ–¹æ³•è¿›è¡Œä»»ä½•æ ‡è®°ï¼Œé‚£ä¹ˆçˆ¶ç±»ä¸­çš„ Designated Initializer åœ¨å­ç±»ä¸­ä¾æ—§æ˜¯ Designated Initializerï¼Œå¦‚æœåœ¨å­ç±»æ²¡æœ‰è¦†å†™è¿™ä¸ªæ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šç»™å‡ºè­¦å‘Šï¼›ä½†å¦‚æœåœ¨å­ç±»ä¸­å¯¹çˆ¶ç±»çš„ Designated Initializer æ ‡è®°ä¸º <code>NS_UNAVAILABLE</code>ï¼Œé‚£ä¹ˆçˆ¶ç±»ä¸­çš„è¿™ä¸ªæ–¹æ³•åœ¨å­ç±»ä¸­ä¸å†æ˜¯ Designated Initializerï¼Œå³ä½¿ä¸è¦†å†™ï¼Œç¼–è¯‘å™¨ä¹Ÿä¸ä¼šæœ‰ä»»ä½•è­¦å‘Šã€‚</p>
<p>Q: Objective-C ä¸­çš„åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œå¼•ç”¨ propery çš„æ—¶å€™ï¼Œåˆ°åº•è¯¥ä½¿ç”¨ä¸‹åˆ’çº¿çš„æ–¹å¼è¿˜æ˜¯ <code>self.</code> çš„æ–¹å¼ï¼Ÿ<br>A: Prefer <code>_userID</code> to  <code>self.userID</code>ã€‚</p>
<p>Q: ä¸ºä½•åœ¨åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œ Swift ç±»çš„å˜é‡éœ€è¦åœ¨è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ä¹‹å‰åˆå§‹åŒ–ï¼Ÿ<br>A:<br>æ ¹æ®æ–‡æ¡£ï¼Œ</p>
<blockquote>
<p>Class initialization in Swift is a two-phase process. In the first phase, each stored property is assigned an initial value by the class that introduced it. Once the initial state for every stored property has been determined, the second phase begins, and each class is given the opportunity to customize its stored properties further before the new instance is considered ready for use.</p>
</blockquote>
<p>æ ¹ Objective-C åˆå§‹åŒ–ä¸åŒçš„åœ°æ–¹åœ¨ç¬¬ä¸€æ­¥ï¼Œå°±æ˜¯æŠŠæ­¤ç±»åŠ å…¥çš„ property éƒ½åˆå§‹åŒ–æ‰ã€‚å› ä¸º Swift å¹¶ä¸ä¼šåƒ Objective-C ä¸€æ ·ï¼Œåœ¨æ²¡æœ‰æ˜¾å¼åˆå§‹åŒ–è¿™äº› property çš„æ—¶å€™ï¼Œè‡ªåŠ¨æŠŠå®ƒä»¬è®¾ä¸º <code>nil</code> æˆ– <code>0</code>ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­è§£é‡Šä¸‹ä¸Šé¢çš„æƒ…å†µã€‚æ–°æ‰‹å†™ Swift é€šå¸¸ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œ</p>
<p><img src="http://blog-1258178021.cosbj.myqcloud.com/blog/20181216225737.png" alt></p>
<p>ç¼–è¯‘å™¨æŠ±æ€¨ <code>userID</code> éœ€è¦åœ¨ <code>super.init</code> ä¹‹å‰è¢«åˆå§‹åŒ–ï¼Œå°±æ˜¯å› ä¸º <code>userID</code> æ²¡æœ‰é»˜è®¤å€¼ï¼Œå¦‚æœåœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜æ²¡ç»™å®ƒæä¾›å€¼ï¼Œé‚£å°±ä¼šäº§ç”Ÿé—®é¢˜äº†(ä»ç¼–è¯‘å™¨çš„è§’åº¦æ¥çœ‹ï¼Œåˆå§‹åŒ–çš„æ—¶å€™éœ€è¦ç¡®ä¿æ‰€æœ‰ property éƒ½ç¡®è®¤æœ‰å€¼(nil ä¹Ÿç®—ç¡®è®¤æœ‰å€¼)ã€‚ä½†ä½ ç°åœ¨å¹¶æ²¡æœ‰å‘Šè¯‰æˆ‘å®ƒçš„å€¼æ˜¯ä»€ä¹ˆã€‚ )å¯æ˜¯ç¼–è¯‘å™¨ä¸ºä½•æ²¡æœ‰æŠ±æ€¨ <code>gender</code> å’Œ <code>age</code> å‘¢ï¼Ÿå› ä¸ºå®ƒä»¬éƒ½æœ‰é»˜è®¤å€¼ï¼ˆoptional åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ä¸º nilï¼‰ã€‚</p>
<p>Q: ä¸ºä»€ä¹ˆæ¯æ¬¡åˆ›å»º Swift UIViewController å­ç±»ï¼Œåªè¦æ·»åŠ äº†ä»»ä½•ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•ï¼ŒXcode éƒ½ä¼šæé†’è¦æ·»åŠ  <code>required init?(coder:)</code> æ–¹æ³•ï¼Ÿ<br>A: å› ä¸º UIViewController ç¬¦åˆäº† <code>NSCoding</code> åè®®ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•æ˜¯ Designated Initializerï¼Œå­ç±»å¿…é¡»è¦å®ç°è¿™ä¸ªåè®®çš„åˆå§‹åŒ–æ–¹æ³•ã€‚</p>
<p>Q: ä¸€ä¸ªç±»å¯èƒ½ä¼šæœ‰å¤šä¸ª Designated Initializer å—ï¼Ÿ<br>A: å¯èƒ½ã€‚æ¯”å¦‚ <code>NSArray</code> å°±æœ‰ä¸‰ä¸ªã€‚ä½†ä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯åªæœ‰ä¸€ä¸ªã€‚</p>
<p>ä¸Šé¢åªæ˜¯ä¸€äº›æˆ‘è‡ªå·±çš„å›°æƒ‘ï¼Œå¦‚æœä½ ä¹Ÿæœ‰å›°æƒ‘ï¼Œæ¬¢è¿ç•™è¨€ã€‚</p>
<p>è¿™ä¸‹åº”è¯¥å¯ä»¥å¼€å¼€å¿ƒå¿ƒåœ°å†™ Initializer äº†å§ :]</p>

      
    </div>

    
      
      

  <div class="post-copyright">
    <p class="copyright-item">
      <span>Author: </span>
      <a href="https://x140yu.github.io">X140Yu</a>
    </p>
    <p class="copyright-item">
      <span>Link: </span>
      <a href="https://x140yu.github.io/2017-07-16-iOS-initializers/">https://x140yu.github.io/2017-07-16-iOS-initializers/</a>
    </p>
    <p class="copyright-item">
      <span>License: </span>
      
      <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>
    </p>
  </div>



      
      
  <div class="post-reward">
    <input type="checkbox" name="reward" id="reward" hidden>
    <label class="reward-button" for="reward">Reward</label>
    <div class="qr-code">
      
      
        <label class="qr-code-image" for="reward">
          <img class="image" src="http://blog-1258178021.cosbj.myqcloud.com/blog/20181230222906.png" title="wechat">
        </label>
      
      
        <label class="qr-code-image" for="reward">
          <img class="image" src="http://blog-1258178021.cosbj.myqcloud.com/blog/20181230222847.png" title="alipay">
        </label>
      
    </div>
  </div>

    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/iOS/">iOS</a>
            
              <a href="/tags/Objective-C/">Objective-C</a>
            
              <a href="/tags/Swift/">Swift</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2017-07-23-result/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">èŠèŠ Result è¿™ä¸ª Swift Âµframework</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2017-07-09-ios-oss-2/">
        <span class="next-text nav-default">åœ¨ Kickstarter-iOS æºç ä¸­å­¦åˆ°çš„ï¼ˆäºŒï¼‰ - ä»£ç </span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>


      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:zhaoxinyu1994@gmail.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
        
          <a href="https://github.com/x140yu" class="iconfont icon-github" title="github"></a>
        
      
    
      
        
          <a href="https://twitter.com/_X140Yu" class="iconfont icon-twitter" title="twitter"></a>
        
      
    
      
        
          <a href="https://www.instagram.com/x140yu/" class="iconfont icon-instagram" title="instagram"></a>
        
      
    
      
        
          <a href="https://www.zhihu.com/people/X140Yu" class="iconfont icon-zhihu" title="zhihu"></a>
        
      
    
      
        
          <a href="https://www.douban.com/people/X140Yu/" class="iconfont icon-douban" title="douban"></a>
        
      
    
      
    
      
        
          <a href="https://www.linkedin.com/in/xinyu-zhao/" class="iconfont icon-linkedin" title="linkedin"></a>
        
      
    
      
    
      
    
      
    
      
    

    
      <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>



<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
     
      2014 - 
    
    2019

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">X140Yu</span>
  </span>
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  
  <script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'https://x140yu.github.io/2017-07-16-iOS-initializers/';
        this.page.identifier = '2017-07-16-iOS-initializers/';
        this.page.title = 'å¦‚ä½•æ­£ç¡®ä¹¦å†™ iOS ä¸­çš„ Initializer';
    };
    (function() {
    var d = document, s = d.createElement('script');

    s.src = '//x140yu.disqus.com/embed.js';

    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();  
  </script>

  

  



    
  



  
  





  
    <script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  

  
    <script type="text/javascript" src="/lib/pjax/jquery.pjax.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/nprogress/nprogress.min.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=2.10.1"></script>

  </body>
</html>
